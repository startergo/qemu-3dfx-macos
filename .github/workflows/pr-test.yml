name: PR Quick Test (DISABLED - replaced by build-and-package.yml)

on:
  # Disabled - PR testing now handled by build-and-package.yml
  workflow_dispatch:
    inputs:
      force_enable:
        description: 'Force enable this legacy workflow'
        required: false
        default: false
        type: boolean

jobs:
  quick-test:
    name: Quick Environment Test
    runs-on: macos-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Set up environment
      run: |
        echo "HOMEBREW_NO_AUTO_UPDATE=1" >> $GITHUB_ENV
        echo "HOMEBREW_NO_INSTALL_CLEANUP=1" >> $GITHUB_ENV
        
    - name: Check script syntax
      run: |
        chmod +x scripts/build-qemu-3dfx.sh
        bash -n scripts/build-qemu-3dfx.sh
        
    - name: Test environment check
      run: |
        ./scripts/build-qemu-3dfx.sh check-env
        
    - name: Test help command
      run: |
        ./scripts/build-qemu-3dfx.sh help
        
    - name: Install minimal dependencies
      run: |
        brew install git wget pkg-config libepoxy
        
    - name: Test package detection
      run: |
        # Test that the script can detect installed packages
        ./scripts/build-qemu-3dfx.sh check-env
